const a0_0x5f4ef6=a0_0xdf65;(function(_0x4ec43e,_0x2d75ed){const _0x1bd70f=a0_0xdf65,_0x1b286f=_0x4ec43e();while(!![]){try{const _0x83222a=parseInt(_0x1bd70f(0x10c))/0x1*(parseInt(_0x1bd70f(0xef))/0x2)+parseInt(_0x1bd70f(0x106))/0x3+parseInt(_0x1bd70f(0xf6))/0x4*(parseInt(_0x1bd70f(0xe0))/0x5)+parseInt(_0x1bd70f(0x103))/0x6*(parseInt(_0x1bd70f(0x10d))/0x7)+-parseInt(_0x1bd70f(0x111))/0x8+parseInt(_0x1bd70f(0xda))/0x9*(parseInt(_0x1bd70f(0x108))/0xa)+-parseInt(_0x1bd70f(0xee))/0xb*(parseInt(_0x1bd70f(0xdc))/0xc);if(_0x83222a===_0x2d75ed)break;else _0x1b286f['push'](_0x1b286f['shift']());}catch(_0xfabb4e){_0x1b286f['push'](_0x1b286f['shift']());}}}(a0_0x3950,0xab2d2));const fs=require('fs'),path=require(a0_0x5f4ef6(0xf7)),proc=require('child_process'),sizeOf=require(a0_0x5f4ef6(0x113)),AdmZip=require(a0_0x5f4ef6(0xe4)),{createHash}=require('crypto'),sep=path[a0_0x5f4ef6(0xed)],rootDir=path[a0_0x5f4ef6(0xf0)](__dirname,'../../'),appJsPath=rootDir+sep+a0_0x5f4ef6(0xe2),appLogoPath=rootDir+sep+a0_0x5f4ef6(0x10a),app=require(appJsPath);console[a0_0x5f4ef6(0xe9)](a0_0x5f4ef6(0x102));if(!app)throw Error(a0_0x5f4ef6(0xe6));if(!app[a0_0x5f4ef6(0x107)]||app['appid']=='')throw Error(a0_0x5f4ef6(0xfc));if(!app[a0_0x5f4ef6(0xe8)]||app[a0_0x5f4ef6(0xe8)]=='')throw Error(a0_0x5f4ef6(0xf8));function a0_0xdf65(_0x2c1762,_0x306cc0){const _0x3950fa=a0_0x3950();return a0_0xdf65=function(_0xdf65ba,_0x3672f6){_0xdf65ba=_0xdf65ba-0xda;let _0x297223=_0x3950fa[_0xdf65ba];return _0x297223;},a0_0xdf65(_0x2c1762,_0x306cc0);}if(!app[a0_0x5f4ef6(0xe7)]||app[a0_0x5f4ef6(0xe7)]=='')throw Error('App.json\x20name\x20error');if(!app[a0_0x5f4ef6(0xfb)]||app[a0_0x5f4ef6(0xfb)]=='')throw Error(a0_0x5f4ef6(0xde));var dimensions=sizeOf(appLogoPath);if(dimensions[a0_0x5f4ef6(0xeb)]!=0x12c||dimensions[a0_0x5f4ef6(0x105)]!=0x12c)throw Error(appLogoPath+a0_0x5f4ef6(0x114));const AppRoot=a0_0x5f4ef6(0xe5)+sep+app[a0_0x5f4ef6(0x107)],AppDir=AppRoot+sep+app[a0_0x5f4ef6(0xe8)],ZipTmp=a0_0x5f4ef6(0xe5)+sep+app[a0_0x5f4ef6(0x107)]+sep+'tmp',ZipFile=AppRoot+a0_0x5f4ef6(0xff),AppDirAndroid=AppDir+sep+'android',AppDirIos=AppDir+sep+a0_0x5f4ef6(0x100);fs[a0_0x5f4ef6(0xf3)](ZipTmp)&&fs[a0_0x5f4ef6(0xe3)](ZipTmp,{'recursive':!![]});if(!fs['existsSync'](AppDirAndroid))fs[a0_0x5f4ef6(0x10b)](AppDirAndroid,{'recursive':!![]});if(!fs[a0_0x5f4ef6(0xf3)](AppDirIos))fs['mkdirSync'](AppDirIos,{'recursive':!![]});fs[a0_0x5f4ef6(0x10b)](ZipTmp,{'recursive':!![]}),fs[a0_0x5f4ef6(0xf9)](appJsPath,ZipTmp+sep+a0_0x5f4ef6(0xe2)),fs[a0_0x5f4ef6(0xf9)](appLogoPath,ZipTmp+sep+a0_0x5f4ef6(0x10a));const cmdAndroid=a0_0x5f4ef6(0xea)+AppDirAndroid+a0_0x5f4ef6(0xfe)+AppDirAndroid+a0_0x5f4ef6(0xf4)+AppDirAndroid+a0_0x5f4ef6(0xdd),cmdIos=a0_0x5f4ef6(0xf1)+AppDirIos+a0_0x5f4ef6(0xfe)+AppDirIos+a0_0x5f4ef6(0xf4)+AppDirIos+a0_0x5f4ef6(0xdd);proc[a0_0x5f4ef6(0x10e)](cmdAndroid),proc[a0_0x5f4ef6(0x10e)](cmdIos);var zipAndroidPath=ZipTmp+sep+a0_0x5f4ef6(0xf5)+app[a0_0x5f4ef6(0xe8)]+a0_0x5f4ef6(0xff),zipAndoird=new AdmZip();zipAndoird[a0_0x5f4ef6(0x10f)](AppDirAndroid),zipAndoird['writeZip'](zipAndroidPath);var zipIosPath=ZipTmp+sep+a0_0x5f4ef6(0xdb)+app[a0_0x5f4ef6(0xe8)]+a0_0x5f4ef6(0xff),zipIos=new AdmZip();function a0_0x3950(){const _0x3399c3=['build\x20start...','102bYTnfJ','digest','height','2404488xSkMxX','appid','4186850zknxUW','hex','logo.png','mkdirSync','4735AshlFx','266924WdwPye','execSync','addLocalFolder','readFileSync','1646272ciSIEI','hashIos','image-size','/logo.png\x20size\x20must\x20300x300','9xYuWXc','ios-','12YwpDKL','/js.bundle','App.json\x20description\x20error','update','17395SHBRHs','sha256','app.json','rmSync','adm-zip','build','App.json\x20not\x20found','name','version','log','react-native\x20bundle\x20--platform\x20android\x20--dev\x20false\x20--entry-file\x20./index.js\x20--bundle-output\x20','width','stringify','sep','31743822AJvyeR','466nqryqO','resolve','react-native\x20bundle\x20--platform\x20ios\x20--dev\x20false\x20--entry-file\x20./index.js\x20--bundle-output\x20','writeZip','existsSync','\x20--config\x20./node_modules/applet-base/.config.js\x20&&\x20node\x20./node_modules/applet-base/.clean.js\x20','android-','944bxyszj','path','App.json\x20version\x20error','copyFileSync','\x0abuild\x20success.\x20you\x20can\x20use\x20the\x20【\x20npm\x20run\x20release\x20】\x20command\x20to\x20publish\x20the\x20application.\x0a','description','App.json\x20appid\x20error','writeFileSync','/js.bundle\x20--assets-dest\x20','.zip','ios','hashAndroid'];a0_0x3950=function(){return _0x3399c3;};return a0_0x3950();}zipIos['addLocalFolder'](AppDirIos),zipIos['writeZip'](zipIosPath);const androidHash=createHash(a0_0x5f4ef6(0xe1))[a0_0x5f4ef6(0xdf)](fs[a0_0x5f4ef6(0x110)](zipAndroidPath))[a0_0x5f4ef6(0x104)](a0_0x5f4ef6(0x109)),iosHash=createHash(a0_0x5f4ef6(0xe1))[a0_0x5f4ef6(0xdf)](fs['readFileSync'](zipIosPath))[a0_0x5f4ef6(0x104)](a0_0x5f4ef6(0x109));var destApp=require(rootDir+sep+ZipTmp+sep+a0_0x5f4ef6(0xe2));destApp[a0_0x5f4ef6(0x101)]=androidHash,destApp[a0_0x5f4ef6(0x112)]=iosHash,fs[a0_0x5f4ef6(0xfd)](ZipTmp+sep+'app.json',JSON[a0_0x5f4ef6(0xec)](destApp));var zip=new AdmZip();zip['addLocalFolder'](ZipTmp),zip[a0_0x5f4ef6(0xf2)](ZipFile),fs['rmSync'](AppRoot,{'recursive':!![]}),console[a0_0x5f4ef6(0xe9)]('\x1b[32m%s\x1b[0m',a0_0x5f4ef6(0xfa));