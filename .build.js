const a0_0x1fc9e3=a0_0x2ee9;(function(_0x28ff2a,_0x1ad713){const _0x509341=a0_0x2ee9,_0x356f97=_0x28ff2a();while(!![]){try{const _0x47ff0b=parseInt(_0x509341(0x12d))/0x1+parseInt(_0x509341(0x135))/0x2*(-parseInt(_0x509341(0x10b))/0x3)+-parseInt(_0x509341(0x130))/0x4*(-parseInt(_0x509341(0x12f))/0x5)+-parseInt(_0x509341(0x10c))/0x6*(parseInt(_0x509341(0xfc))/0x7)+parseInt(_0x509341(0x125))/0x8*(parseInt(_0x509341(0x101))/0x9)+parseInt(_0x509341(0x10a))/0xa+parseInt(_0x509341(0x106))/0xb*(parseInt(_0x509341(0x100))/0xc);if(_0x47ff0b===_0x1ad713)break;else _0x356f97['push'](_0x356f97['shift']());}catch(_0x2b8290){_0x356f97['push'](_0x356f97['shift']());}}}(a0_0x797c,0xc1b6f));const fs=require('fs'),path=require('path'),proc=require(a0_0x1fc9e3(0x126)),sizeOf=require(a0_0x1fc9e3(0x10d)),AdmZip=require(a0_0x1fc9e3(0x103)),{createHash}=require(a0_0x1fc9e3(0x108)),sep=path[a0_0x1fc9e3(0x119)],rootDir=path[a0_0x1fc9e3(0x12b)](__dirname,a0_0x1fc9e3(0x11d)),appJsPath=rootDir+sep+a0_0x1fc9e3(0x120),appLogoPath=rootDir+sep+a0_0x1fc9e3(0x105),app=require(appJsPath);console[a0_0x1fc9e3(0x111)](a0_0x1fc9e3(0x10e));if(!app)throw Error(a0_0x1fc9e3(0x122));if(!app[a0_0x1fc9e3(0x129)]||app[a0_0x1fc9e3(0x129)]=='')throw Error(a0_0x1fc9e3(0x127));if(!app[a0_0x1fc9e3(0x10f)]||app[a0_0x1fc9e3(0x10f)]=='')throw Error(a0_0x1fc9e3(0x11f));if(!app[a0_0x1fc9e3(0x121)]||app[a0_0x1fc9e3(0x121)]=='')throw Error(a0_0x1fc9e3(0x134));if(!app[a0_0x1fc9e3(0x136)]||app[a0_0x1fc9e3(0x136)]=='')throw Error(a0_0x1fc9e3(0x12c));var dimensions=sizeOf(appLogoPath);if(dimensions[a0_0x1fc9e3(0x11c)]!=0x12c||dimensions[a0_0x1fc9e3(0x117)]!=0x12c)throw Error(appLogoPath+'/logo.png\x20size\x20must\x20300x300');const AppRoot=a0_0x1fc9e3(0x132)+sep+app[a0_0x1fc9e3(0x129)],AppDir=AppRoot+sep+app[a0_0x1fc9e3(0x10f)],ZipTmp=a0_0x1fc9e3(0x132)+sep+app[a0_0x1fc9e3(0x129)]+sep+a0_0x1fc9e3(0x123),ZipFile=AppRoot+'.zip',AppDirAndroid=AppDir+sep+'android',AppDirIos=AppDir+sep+a0_0x1fc9e3(0x11a);fs['existsSync'](ZipTmp)&&fs[a0_0x1fc9e3(0x102)](ZipTmp,{'recursive':!![]});if(!fs['existsSync'](AppDirAndroid))fs[a0_0x1fc9e3(0x131)](AppDirAndroid,{'recursive':!![]});if(!fs['existsSync'](AppDirIos))fs['mkdirSync'](AppDirIos,{'recursive':!![]});fs[a0_0x1fc9e3(0x131)](ZipTmp,{'recursive':!![]}),fs['copyFileSync'](appJsPath,ZipTmp+sep+'app.json'),fs[a0_0x1fc9e3(0x128)](appLogoPath,ZipTmp+sep+'logo.png');const cmdAndroid=a0_0x1fc9e3(0x12a)+AppDirAndroid+a0_0x1fc9e3(0x115)+AppDirAndroid+a0_0x1fc9e3(0xfe)+AppDirAndroid+a0_0x1fc9e3(0x107),cmdIos=a0_0x1fc9e3(0x124)+AppDirIos+a0_0x1fc9e3(0x115)+AppDirIos+a0_0x1fc9e3(0xfe)+AppDirIos+a0_0x1fc9e3(0x107);proc[a0_0x1fc9e3(0x109)](cmdAndroid),proc[a0_0x1fc9e3(0x109)](cmdIos);var zipAndroidPath=ZipTmp+sep+a0_0x1fc9e3(0x114)+app[a0_0x1fc9e3(0x10f)]+a0_0x1fc9e3(0x11e),zipAndoird=new AdmZip();zipAndoird['addLocalFolder'](AppDirAndroid),zipAndoird['writeZip'](zipAndroidPath);var zipIosPath=ZipTmp+sep+'ios-'+app[a0_0x1fc9e3(0x10f)]+'.zip',zipIos=new AdmZip();zipIos[a0_0x1fc9e3(0x116)](AppDirIos),zipIos[a0_0x1fc9e3(0x113)](zipIosPath);const androidHash=createHash(a0_0x1fc9e3(0x133))['update'](fs['readFileSync'](zipAndroidPath))[a0_0x1fc9e3(0xfb)](a0_0x1fc9e3(0xff)),iosHash=createHash('sha256')[a0_0x1fc9e3(0x118)](fs[a0_0x1fc9e3(0xfd)](zipIosPath))['digest'](a0_0x1fc9e3(0xff));var destApp=require(rootDir+sep+ZipTmp+sep+'app.json');destApp[a0_0x1fc9e3(0x104)]=androidHash,destApp[a0_0x1fc9e3(0x112)]=iosHash,fs[a0_0x1fc9e3(0x12e)](ZipTmp+sep+a0_0x1fc9e3(0x120),JSON[a0_0x1fc9e3(0x11b)](destApp));var zip=new AdmZip();function a0_0x2ee9(_0x1526aa,_0x500e62){const _0x797cc1=a0_0x797c();return a0_0x2ee9=function(_0x2ee9fa,_0x14cd7c){_0x2ee9fa=_0x2ee9fa-0xfb;let _0x245512=_0x797cc1[_0x2ee9fa];return _0x245512;},a0_0x2ee9(_0x1526aa,_0x500e62);}function a0_0x797c(){const _0x44459f=['hex','36xMqpBE','18HRQMjy','rmSync','adm-zip','hashAndroid','logo.png','3530153AWxSvo','/js.bundle','crypto','execSync','9609410SzoJvj','11103VgACUb','12OikOcr','image-size','build\x20start...','version','\x1b[32m%s\x1b[0m','log','hashIos','writeZip','android-','/js.bundle\x20--assets-dest\x20','addLocalFolder','height','update','sep','ios','stringify','width','../../','.zip','App.json\x20version\x20error','app.json','name','App.json\x20not\x20found','tmp','react-native\x20bundle\x20--platform\x20ios\x20--dev\x20false\x20--entry-file\x20./index.js\x20--bundle-output\x20','1781432JVPFUL','child_process','App.json\x20appid\x20error','copyFileSync','appid','react-native\x20bundle\x20--platform\x20android\x20--dev\x20false\x20--entry-file\x20./index.js\x20--bundle-output\x20','resolve','App.json\x20description\x20error','541460QtOlkN','writeFileSync','5MHTPXl','1570776YCsRcE','mkdirSync','build','sha256','App.json\x20name\x20error','526DcPUaf','description','digest','5377414NPdCLF','readFileSync','\x20--config\x20./node_modules/applet-base/.config.js\x20&&\x20node\x20./node_modules/applet-base/.clean.js\x20'];a0_0x797c=function(){return _0x44459f;};return a0_0x797c();}zip[a0_0x1fc9e3(0x116)](ZipTmp),zip['writeZip'](ZipFile),fs[a0_0x1fc9e3(0x102)](AppRoot,{'recursive':!![]}),console[a0_0x1fc9e3(0x111)](a0_0x1fc9e3(0x110),'\x0abuild\x20success.\x20you\x20can\x20use\x20the\x20【\x20npm\x20run\x20release\x20】\x20command\x20to\x20publish\x20the\x20application.\x0a');