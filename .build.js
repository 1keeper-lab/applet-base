const a0_0x63fba3=a0_0x21e3;(function(_0x5512aa,_0x1efe72){const _0x21d18f=a0_0x21e3,_0x3eab9e=_0x5512aa();while(!![]){try{const _0x5000ce=-parseInt(_0x21d18f(0x86))/0x1+parseInt(_0x21d18f(0x94))/0x2*(parseInt(_0x21d18f(0x7f))/0x3)+parseInt(_0x21d18f(0xa1))/0x4*(-parseInt(_0x21d18f(0x7e))/0x5)+-parseInt(_0x21d18f(0x81))/0x6+parseInt(_0x21d18f(0x88))/0x7+parseInt(_0x21d18f(0x8c))/0x8+parseInt(_0x21d18f(0x95))/0x9*(parseInt(_0x21d18f(0x7a))/0xa);if(_0x5000ce===_0x1efe72)break;else _0x3eab9e['push'](_0x3eab9e['shift']());}catch(_0x37c706){_0x3eab9e['push'](_0x3eab9e['shift']());}}}(a0_0x2073,0x26970));const fs=require('fs'),path=require(a0_0x63fba3(0x9b)),proc=require('child_process'),sizeOf=require(a0_0x63fba3(0x7b)),AdmZip=require(a0_0x63fba3(0x9e)),{createHash}=require(a0_0x63fba3(0x8f)),sep=path[a0_0x63fba3(0x79)],rootDir=path['resolve'](__dirname,a0_0x63fba3(0x99)),appJsPath=rootDir+sep+'app.json',appLogoPath=rootDir+sep+a0_0x63fba3(0x89),app=require(appJsPath);console[a0_0x63fba3(0x77)]('build\x20start...');if(!app)throw Error(a0_0x63fba3(0x8a));if(!app[a0_0x63fba3(0x84)]||app[a0_0x63fba3(0x84)]=='')throw Error('App.json\x20appid\x20error');if(!app['version']||app[a0_0x63fba3(0xa6)]=='')throw Error('App.json\x20version\x20error');if(!app[a0_0x63fba3(0x97)]||app[a0_0x63fba3(0x97)]=='')throw Error(a0_0x63fba3(0x92));if(!app[a0_0x63fba3(0xa2)]||app[a0_0x63fba3(0xa2)]=='')throw Error(a0_0x63fba3(0x9c));var dimensions=sizeOf(appLogoPath);function a0_0x21e3(_0x1186b4,_0x46dd5b){const _0x207303=a0_0x2073();return a0_0x21e3=function(_0x21e3d5,_0x56989f){_0x21e3d5=_0x21e3d5-0x77;let _0x2b6e89=_0x207303[_0x21e3d5];return _0x2b6e89;},a0_0x21e3(_0x1186b4,_0x46dd5b);}if(dimensions[a0_0x63fba3(0x8e)]!=0x12c||dimensions['height']!=0x12c)throw Error(appLogoPath+a0_0x63fba3(0x8d));const AppRoot=a0_0x63fba3(0x87)+sep+app[a0_0x63fba3(0x84)],AppDir=AppRoot+sep+app[a0_0x63fba3(0xa6)],ZipTmp=a0_0x63fba3(0x87)+sep+app['appid']+sep+a0_0x63fba3(0x85),ZipFile=AppRoot+a0_0x63fba3(0x96),AppDirAndroid=AppDir+sep+'android',AppDirIos=AppDir+sep+a0_0x63fba3(0x7d);function a0_0x2073(){const _0x59570a=['adm-zip','/js.bundle\x20--assets-dest\x20','copyFileSync','76lpXUgR','description','hashIos','execSync','react-native\x20bundle\x20--platform\x20ios\x20--dev\x20false\x20--entry-file\x20./index.js\x20--bundle-output\x20','version','existsSync','\x20--config\x20./node_modules/applet-base/.config.js\x20&&\x20node\x20./node_modules/applet-base/.clean.js\x20','writeZip','digest','readFileSync','log','sha256','sep','5098040Hzxkax','image-size','mkdirSync','ios','23995wwKhQw','100119AooCeY','stringify','995796auUONW','addLocalFolder','hashAndroid','appid','tmp','304439rlPuZv','build','618625DrtqxW','logo.png','App.json\x20not\x20found','\x0abuild\x20success.\x20you\x20can\x20use\x20the\x20【\x20npm\x20run\x20release\x20】\x20command\x20to\x20publish\x20the\x20application.\x0a','437800QKnFxB','/logo.png\x20size\x20must\x20300x300','width','crypto','android-','update','App.json\x20name\x20error','/js.bundle','4coiKko','9CWwLlS','.zip','name','rmSync','../../','app.json','path','App.json\x20description\x20error','react-native\x20bundle\x20--platform\x20android\x20--dev\x20false\x20--entry-file\x20./index.js\x20--bundle-output\x20'];a0_0x2073=function(){return _0x59570a;};return a0_0x2073();}fs[a0_0x63fba3(0xa7)](ZipTmp)&&fs[a0_0x63fba3(0x98)](ZipTmp,{'recursive':!![]});if(!fs['existsSync'](AppDirAndroid))fs[a0_0x63fba3(0x7c)](AppDirAndroid,{'recursive':!![]});if(!fs[a0_0x63fba3(0xa7)](AppDirIos))fs[a0_0x63fba3(0x7c)](AppDirIos,{'recursive':!![]});fs[a0_0x63fba3(0x7c)](ZipTmp,{'recursive':!![]}),fs[a0_0x63fba3(0xa0)](appJsPath,ZipTmp+sep+a0_0x63fba3(0x9a)),fs[a0_0x63fba3(0xa0)](appLogoPath,ZipTmp+sep+'logo.png');const cmdAndroid=a0_0x63fba3(0x9d)+AppDirAndroid+'/js.bundle\x20--assets-dest\x20'+AppDirAndroid+'\x20--config\x20./node_modules/applet-base/.config.js\x20&&\x20node\x20./node_modules/applet-base/.clean.js\x20'+AppDirAndroid+a0_0x63fba3(0x93),cmdIos=a0_0x63fba3(0xa5)+AppDirIos+a0_0x63fba3(0x9f)+AppDirIos+a0_0x63fba3(0xa8)+AppDirIos+a0_0x63fba3(0x93);proc['execSync'](cmdAndroid),proc[a0_0x63fba3(0xa4)](cmdIos);var zipAndroidPath=ZipTmp+sep+a0_0x63fba3(0x90)+app[a0_0x63fba3(0xa6)]+a0_0x63fba3(0x96),zipAndoird=new AdmZip();zipAndoird[a0_0x63fba3(0x82)](AppDirAndroid),zipAndoird[a0_0x63fba3(0xa9)](zipAndroidPath);var zipIosPath=ZipTmp+sep+'ios-'+app['version']+'.zip',zipIos=new AdmZip();zipIos[a0_0x63fba3(0x82)](AppDirIos),zipIos[a0_0x63fba3(0xa9)](zipIosPath);const androidHash=createHash(a0_0x63fba3(0x78))[a0_0x63fba3(0x91)](fs[a0_0x63fba3(0xab)](zipAndroidPath))[a0_0x63fba3(0xaa)]('hex'),iosHash=createHash('sha256')['update'](fs[a0_0x63fba3(0xab)](zipIosPath))[a0_0x63fba3(0xaa)]('hex');var destApp=require(rootDir+sep+ZipTmp+sep+a0_0x63fba3(0x9a));destApp[a0_0x63fba3(0x83)]=androidHash,destApp[a0_0x63fba3(0xa3)]=iosHash,fs['writeFileSync'](ZipTmp+sep+'app.json',JSON[a0_0x63fba3(0x80)](destApp));var zip=new AdmZip();zip[a0_0x63fba3(0x82)](ZipTmp),zip[a0_0x63fba3(0xa9)](ZipFile),fs[a0_0x63fba3(0x98)](AppRoot,{'recursive':!![]}),console[a0_0x63fba3(0x77)]('\x1b[32m%s\x1b[0m',a0_0x63fba3(0x8b));