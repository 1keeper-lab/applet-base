const a0_0x4e9215=a0_0x2416;(function(_0x3c65b9,_0x1362d7){const _0x5a0880=a0_0x2416,_0x345ba3=_0x3c65b9();while(!![]){try{const _0xa0137d=parseInt(_0x5a0880(0x13a))/0x1+parseInt(_0x5a0880(0x140))/0x2+parseInt(_0x5a0880(0x130))/0x3+parseInt(_0x5a0880(0x131))/0x4*(-parseInt(_0x5a0880(0x116))/0x5)+parseInt(_0x5a0880(0x112))/0x6+-parseInt(_0x5a0880(0x11e))/0x7*(-parseInt(_0x5a0880(0x124))/0x8)+parseInt(_0x5a0880(0x121))/0x9*(-parseInt(_0x5a0880(0x12d))/0xa);if(_0xa0137d===_0x1362d7)break;else _0x345ba3['push'](_0x345ba3['shift']());}catch(_0x301be4){_0x345ba3['push'](_0x345ba3['shift']());}}}(a0_0x2e84,0x26fcb));const fs=require('fs'),path=require(a0_0x4e9215(0x111)),qrcode=require(a0_0x4e9215(0x12a)),{createHash}=require(a0_0x4e9215(0x13b)),FormData=require(a0_0x4e9215(0x113)),sep=path[a0_0x4e9215(0x11d)],rootDir=path[a0_0x4e9215(0x110)](__dirname,'../../'),appJsPath=rootDir+sep+a0_0x4e9215(0x118),app=require(appJsPath),AppRoot=a0_0x4e9215(0x11f)+sep+app['appid'],ZipFile=AppRoot+'.zip',server=require(rootDir+sep+a0_0x4e9215(0x11b)+sep+a0_0x4e9215(0x114)+sep+a0_0x4e9215(0x128))[a0_0x4e9215(0x125)];async function main(){const _0x5bf7ae=a0_0x4e9215,_0xc1798=createHash(_0x5bf7ae(0x11c))[_0x5bf7ae(0x12c)](fs[_0x5bf7ae(0x123)](ZipFile))[_0x5bf7ae(0x139)](_0x5bf7ae(0x12e)),_0x121ba0=app[_0x5bf7ae(0x13f)],_0x2f2099=app[_0x5bf7ae(0x117)],_0x1b5f05=await fetch(server+_0x5bf7ae(0x120)+_0x121ba0+'&hash='+_0xc1798+'&version='+_0x2f2099),_0x1b5ef3=JSON[_0x5bf7ae(0x132)](await _0x1b5f05['text']());if(_0x1b5ef3[_0x5bf7ae(0x141)]!='0')throw Error(_0x1b5ef3[_0x5bf7ae(0x122)]);const _0x429bd8=_0x1b5ef3[_0x5bf7ae(0x135)];qrcode['generate'](_0x5bf7ae(0x119)+_0x429bd8+'\x22,\x22name\x22:\x22'+app[_0x5bf7ae(0x12f)]+_0x5bf7ae(0x11a)+app[_0x5bf7ae(0x117)]+_0x5bf7ae(0x13d)+app[_0x5bf7ae(0x13f)]+'\x22}',{'small':!![]},function(_0x2133a7){console['log'](_0x2133a7);}),await wait(0x12c),console[_0x5bf7ae(0x136)]('\x1b[36m%s\x1b[0m',_0x5bf7ae(0x138)),await wait(0x12c);const _0x33ec3b=process[_0x5bf7ae(0x115)];_0x33ec3b['write']('\x0achecking.');var _0x434560=!![];while(_0x434560){try{await wait(0x3e8),_0x33ec3b[_0x5bf7ae(0x129)]('.');const _0x4bae55=await fetch(server+'/v1/applet/publish/code/status?code='+_0x429bd8),_0x307217=JSON['parse'](await _0x4bae55['text']());_0x307217['code']=='0'?_0x307217[_0x5bf7ae(0x135)]==!![]&&(_0x434560=![],_0x33ec3b[_0x5bf7ae(0x129)]('\x0a'),upload(_0x429bd8)):(_0x434560=![],_0x33ec3b[_0x5bf7ae(0x129)]('\x0a'),console[_0x5bf7ae(0x136)](_0x5bf7ae(0x13c),_0x5bf7ae(0x133)));}catch(_0x209466){}}}async function upload(_0x1646c4){const _0xe0a70c=a0_0x4e9215;console[_0xe0a70c(0x136)](_0xe0a70c(0x134));const _0x186062=new FormData();_0x186062['append'](_0xe0a70c(0x126),fs[_0xe0a70c(0x12b)](ZipFile));var _0x54e41e=await fetch(server+'/v1/applet/publish',{'method':_0xe0a70c(0x137),'body':_0x186062,'headers':{'code':_0x1646c4}});const _0x4196b0=JSON[_0xe0a70c(0x132)](await _0x54e41e[_0xe0a70c(0x13e)]());_0x4196b0['code']=='0'?(console['log']('\x1b[32m%s\x1b[0m','Release\x20success.\x20you\x20can\x20use\x201keeper\x20to\x20scan\x20the\x20QR\x20code\x20below\x20to\x20open\x20the\x20access\x20application\x20\x0a'),qrcode['generate'](_0x4196b0[_0xe0a70c(0x135)],{'small':!![]},function(_0x19f7cd){const _0x14e2c1=_0xe0a70c;console[_0x14e2c1(0x136)](_0x19f7cd);})):console[_0xe0a70c(0x136)](_0xe0a70c(0x13c),_0xe0a70c(0x127)+_0x4196b0[_0xe0a70c(0x122)]+'\x20\x0a');}function a0_0x2e84(){const _0x141ce4=['qrcode-terminal','createReadStream','update','944810Ltowvu','hex','name','745281umQuNS','40lPDyJu','parse','Authorization\x20timeout','\x0auploading...\x0a','data','log','POST','Please\x20login\x20to\x20the\x201Keeper\x20app\x20with\x20your\x20mobile\x20phone,\x20and\x20then\x20use\x20your\x20camera\x20to\x20scan\x20the\x20QR\x20code\x20for\x20authorization.','digest','104895zyVpfp','crypto','\x1b[31m%s\x1b[0m','\x22,\x22appid\x22:\x22','text','appid','133788SDyivF','code','resolve','path','1101060MyOLpn','form-data','applet-base','stdout','104865lueEDd','version','app.json','{\x22action\x22:\x22upload\x22,\x22code\x22:\x22','\x22,\x22version\x22:\x22','node_modules','sha256','sep','343966gZKEvH','build','/v1/applet/publish/code?appid=','27dVdDYq','msg','readFileSync','8EbRPkJ','server','file','Upload\x20error\x20','package.json','write'];a0_0x2e84=function(){return _0x141ce4;};return a0_0x2e84();}function a0_0x2416(_0xc1251c,_0x4db829){const _0x2e847a=a0_0x2e84();return a0_0x2416=function(_0x241698,_0x1e17de){_0x241698=_0x241698-0x110;let _0x4f782b=_0x2e847a[_0x241698];return _0x4f782b;},a0_0x2416(_0xc1251c,_0x4db829);}async function wait(_0x1d6b66){return new Promise(_0x1dcd2b=>setTimeout(()=>_0x1dcd2b(),_0x1d6b66));}main();