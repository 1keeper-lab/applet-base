const a0_0x3c4a39=a0_0x22fd;(function(_0x5056e4,_0x1f3804){const _0x5389ad=a0_0x22fd,_0x37ecf0=_0x5056e4();while(!![]){try{const _0x31d0c5=parseInt(_0x5389ad(0xcb))/0x1+parseInt(_0x5389ad(0xcf))/0x2*(-parseInt(_0x5389ad(0xc6))/0x3)+parseInt(_0x5389ad(0xe0))/0x4*(-parseInt(_0x5389ad(0xdf))/0x5)+-parseInt(_0x5389ad(0xf6))/0x6+parseInt(_0x5389ad(0xd2))/0x7+-parseInt(_0x5389ad(0xe6))/0x8+parseInt(_0x5389ad(0xf2))/0x9;if(_0x31d0c5===_0x1f3804)break;else _0x37ecf0['push'](_0x37ecf0['shift']());}catch(_0x52ea50){_0x37ecf0['push'](_0x37ecf0['shift']());}}}(a0_0x5090,0x79283));const fs=require('fs'),path=require(a0_0x3c4a39(0xc7)),qrcode=require(a0_0x3c4a39(0xdd)),request=require(a0_0x3c4a39(0xf4)),{createHash}=require(a0_0x3c4a39(0xe2)),sep=path[a0_0x3c4a39(0xeb)],rootDir=path[a0_0x3c4a39(0xed)](__dirname,a0_0x3c4a39(0xca)),appJsPath=rootDir+sep+a0_0x3c4a39(0xd3),app=require(appJsPath),AppRoot=a0_0x3c4a39(0xef)+sep+app[a0_0x3c4a39(0xde)],ZipFile=AppRoot+'.zip',server=require(rootDir+sep+a0_0x3c4a39(0xdc)+sep+a0_0x3c4a39(0xe8)+sep+a0_0x3c4a39(0xce))[a0_0x3c4a39(0xc8)];async function main(){const _0x230801=a0_0x3c4a39,_0x4fae26=createHash(_0x230801(0xe9))[_0x230801(0xc4)](fs['readFileSync'](ZipFile))[_0x230801(0xd4)]('hex'),_0x3b7d68=app[_0x230801(0xde)],_0x4ee196=app[_0x230801(0xf0)],_0x3f6a8a=await postJson(server+_0x230801(0xe5)+_0x3b7d68+'&hash='+_0x4fae26+_0x230801(0xec)+_0x4ee196);if(_0x3f6a8a[_0x230801(0xd9)]!='0')throw Error(_0x3f6a8a['msg']);const _0x5b0af5=_0x3f6a8a[_0x230801(0xf3)];qrcode[_0x230801(0xcc)](_0x230801(0xf7)+_0x5b0af5+_0x230801(0xea)+app[_0x230801(0xd1)]+_0x230801(0xd0)+app[_0x230801(0xf0)]+_0x230801(0xe7)+app[_0x230801(0xde)]+'\x22}',{'small':!![]},function(_0x399ba9){const _0x36f843=_0x230801;console[_0x36f843(0xd6)](_0x399ba9);}),await wait(0x12c),console[_0x230801(0xd6)](_0x230801(0xcd),'Please\x20login\x20to\x20the\x201Keeper\x20app\x20with\x20your\x20mobile\x20phone,\x20and\x20then\x20use\x20your\x20camera\x20to\x20scan\x20the\x20QR\x20code\x20for\x20authorization.'),await wait(0x12c);const _0x21ed48=process[_0x230801(0xe3)];_0x21ed48['write'](_0x230801(0xf5));var _0x327023=!![];while(_0x327023){try{await wait(0x3e8),_0x21ed48['write']('.');const _0x3cf81b=await postJson(server+_0x230801(0xd5)+_0x5b0af5);_0x3cf81b[_0x230801(0xd9)]=='0'?_0x3cf81b['data']==!![]&&(_0x327023=![],_0x21ed48[_0x230801(0xe1)]('\x0a'),upload(_0x5b0af5)):(_0x327023=![],_0x21ed48['write']('\x0a'),console['log'](_0x230801(0xee),'Authorization\x20timeout'));}catch(_0x1beba4){}}}async function upload(_0x5bfbbd){const _0x262537=a0_0x3c4a39;console['log']('\x0auploading...\x0a');const _0x5f4d77=fs[_0x262537(0xc9)](ZipFile),_0x20e741={'url':server+_0x262537(0xdb),'method':_0x262537(0xc5),'headers':{'code':_0x5bfbbd,'Content-Type':'multipart/form-data'},'formData':{'file':{'value':_0x5f4d77,'options':{'filename':null,'contentType':null}}}};request(_0x20e741,(_0x65477a,_0x17554c,_0x2d6063)=>{const _0x409853=_0x262537;var _0x52d36f=JSON[_0x409853(0xf1)](_0x2d6063);_0x52d36f[_0x409853(0xd9)]=='0'?(console[_0x409853(0xd6)](_0x409853(0xd7),_0x409853(0xe4)),qrcode[_0x409853(0xcc)](_0x52d36f[_0x409853(0xf3)],{'small':!![]},function(_0x3a5b25){const _0x51a5d3=_0x409853;console[_0x51a5d3(0xd6)](_0x3a5b25);})):console['log'](_0x409853(0xee),_0x409853(0xda)+_0x52d36f[_0x409853(0xd8)]+'\x20\x0a');});}async function wait(_0x311314){return new Promise(_0x2e1e96=>setTimeout(()=>_0x2e1e96(),_0x311314));}async function postJson(_0x4b5c3f){return new Promise(_0x1a6899=>{const _0x10a487={'url':_0x4b5c3f,'method':'GET','headers':{'Content-Type':'application/json'}};request(_0x10a487,(_0x38baad,_0x34543b,_0x54461e)=>{const _0x3a34fd=a0_0x22fd;_0x1a6899(JSON[_0x3a34fd(0xf1)](_0x54461e));});});}main();function a0_0x22fd(_0x3b2e30,_0x583b6){const _0x50908c=a0_0x5090();return a0_0x22fd=function(_0x22fd58,_0x54dae7){_0x22fd58=_0x22fd58-0xc4;let _0x1908f8=_0x50908c[_0x22fd58];return _0x1908f8;},a0_0x22fd(_0x3b2e30,_0x583b6);}function a0_0x5090(){const _0x465305=['205mOuVdT','34500xNpuMJ','write','crypto','stdout','Release\x20success.\x20you\x20can\x20use\x201keeper\x20to\x20scan\x20the\x20QR\x20code\x20below\x20to\x20open\x20the\x20access\x20application\x20\x0a','/v1/applet/publish/code?appid=','2888880lGkfQM','\x22,\x22appid\x22:\x22','applet-base','sha256','\x22,\x22name\x22:\x22','sep','&version=','resolve','\x1b[31m%s\x1b[0m','build','version','parse','11824272yKyyzC','data','request','\x0achecking.','1192602ErFUGH','{\x22action\x22:\x22upload\x22,\x22code\x22:\x22','update','POST','40866Ihvdkz','path','server','createReadStream','../../','143809psiBIO','generate','\x1b[36m%s\x1b[0m','package.json','14ALcttu','\x22,\x22version\x22:\x22','name','332486TuNPGS','app.json','digest','/v1/applet/publish/code/status?code=','log','\x1b[32m%s\x1b[0m','msg','code','Upload\x20error\x20','/v1/applet/publish','node_modules','qrcode-terminal','appid'];a0_0x5090=function(){return _0x465305;};return a0_0x5090();}